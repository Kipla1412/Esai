llm:
  method: litellm
  path: openrouter/mistralai/mistral-nemo:free #openrouter/meta-llama/llama-3.3-8b-instruct:free #openrouter/alibaba/tongyi-deepresearch-30b-a3b:free #path: openrouter/x-ai/grok-4-fast:free #openrouter/alibaba/tongyi-deepresearch-30b-a3b:free
  api_key: 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 #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  #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 #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 #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 #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 #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
  api_base: https://openrouter.ai/api/v1
  temperature: 0.7
  #client: openai_client

# llm:
#   method: litellm
#   path: openrouter/mistralai/mistral-nemo:free #openrouter/meta-llama/llama-3.3-8b-instruct:free #openrouter/alibaba/tongyi-deepresearch-30b-a3b:free #path: openrouter/x-ai/grok-4-fast:free #openrouter/alibaba/tongyi-deepresearch-30b-a3b:free
#   api_key: 
#   api_base: https://openrouter.ai/api/v1
#   temperature: 0.7
  
agent:
  name: conversation_agent
  description: A friendly and knowledgeable medical assistant that helps users with general medical queries, appointments, and health support.
  max_iterations: 3

  prompt_templates:
    system_prompt: |
      You are a friendly and knowledgeable medical assistant.
      Your role is to provide general medical information, basic advice, appointment guidance, and patient support.

      IMPORTANT RULES:
      - Your response must be relevant and context-aware.
      - Do NOT repeat greetings or introductions if already used.
      - Do NOT give medical prescriptions or treatment advice.
      - Always refer patients to licensed healthcare providers for prescriptions or diagnoses.
      - Return only ONE valid JSON object. No extra text, no markdown, and no explanations.

      OUTPUT FORMAT (exactly this structure):
      {
        "name": "final_answer",
        "arguments": {
          "answer": "<your helpful and context-aware response, ending with a follow-up question>"
        }
      }

      If you do not understand the input:
      Return the same JSON format with a fallback message inside "answer", for example:
      {
        "name": "final_answer",
        "arguments": {
          "answer": "I'm sorry, I didn't quite understand that. Could you please rephrase or clarify?"
        }
      }

      Conversation so far: {text}
      Focus especially on the latest user input: {last_user_message}

      IMPORTANT:
        - Always begin your output exactly with '{' (no newlines or spaces before it).
        - Never include explanations, markdown, or comments.

    planning:
      initial_plan: |
        You are a medical AI assistant planning your next step.
        Review the conversation context and identify what the user needs next.
        Explain your plan in 2-3 sentences.

      update_plan_pre_messages: |
        Consider prior context carefully before adjusting your plan.

      update_plan_post_messages: |
        After updating, finalize your plan clearly.

    managed_agent:
      task: |
        Perform reasoning based on the current plan.
        Decide next action: provide info, ask follow-up, or clarify input.
        Briefly explain your reasoning.

      report: |
        Summarize the step taken and why it was appropriate.

    final_answer:
      pre_messages: "Here is the response to the user:"
      post_messages: "End of answer."

  tools:
    - name: final_answer
      input_schema:
        type: object
        required:
          - answer
        properties:
          answer:
            type: string

  
